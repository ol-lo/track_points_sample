<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Google Maps Multiple Markers</title>
    <script src="https://maps.google.com/maps/api/js?key=AIzaSyDuEJOscSFwcZubl9BS86dxCJJVUE39uwE"
            type="text/javascript"></script>
</head>
<body style="margin: 0;">
<div id="map" style="width: 100vw; height: 100vh;"></div>

<script type="text/javascript">
    var locations = [
        
            [48.573123931884766, 135.0343017578125],
        
            [48.573760986328125, 135.0342254638672],
        
            [48.57280349731445, 135.03411865234375],
        
            [48.574073791503906, 135.0340576171875],
        
            [48.57267379760742, 135.03384399414063],
        
            [48.57419967651367, 135.03382873535156],
        
            [48.572608947753906, 135.0336151123047],
        
            [48.57414245605469, 135.03359985351563],
        
            [48.57262420654297, 135.03338623046875],
        
            [48.57408905029297, 135.0333709716797],
        
            [48.57269287109375, 135.0331573486328],
        
            [48.5742073059082, 135.03314208984375],
        
            [48.57282638549805, 135.03292846679688],
        
            [48.57460021972656, 135.033203125],
        
            [48.57301712036133, 135.03269958496094],
        
            [48.57491683959961, 135.0333251953125],
        
            [48.57331466674805, 135.03250122070313],
        
            [48.575233459472656, 135.03335571289063],
        
            [48.573631286621094, 135.0323944091797],
        
            [48.5755500793457, 135.03321838378906],
        
            [48.573951721191406, 135.0323944091797],
        
            [48.57575607299805, 135.03298950195313],
        
            [48.57426834106445, 135.0323944091797],
        
            [48.57582473754883, 135.0327606201172],
        
            [48.574588775634766, 135.0323486328125],
        
            [48.57575988769531, 135.0325469970703],
        
            [48.57487869262695, 135.03208923339844],
        
            [48.57564926147461, 135.03231811523438],
        
            [48.57497024536133, 135.0318603515625],
        
            [48.575599670410156, 135.03208923339844],
        
            [48.574981689453125, 135.03163146972656],
        
            [48.575618743896484, 135.0318603515625],
        
            [48.57491683959961, 135.03140258789063],
        
            [48.5756721496582, 135.03163146972656],
        
            [48.57477951049805, 135.0311737060547],
        
            [48.57572937011719, 135.03140258789063],
        
            [48.57437515258789, 135.03115844726563],
        
            [48.575782775878906, 135.0311737060547],
        
            [48.574058532714844, 135.0312042236328],
        
            [48.575836181640625, 135.03094482421875],
        
            [48.57373809814453, 135.03123474121094],
        
            [48.575889587402344, 135.03073120117188],
        
            [48.573570251464844, 135.03102111816406],
        
            [48.5759391784668, 135.03050231933594],
        
            [48.573604583740234, 135.0308074951172],
        
            [48.57601547241211, 135.0302734375],
        
            [48.573692321777344, 135.03057861328125],
        
            [48.576114654541016, 135.03004455566406],
        
            [48.573936462402344, 135.0303497314453],
        
            [48.57631301879883, 135.02981567382813],
        
            [48.57425308227539, 135.03018188476563],
        
            [48.57670593261719, 135.02964782714844],
        
            [48.5745735168457, 135.02993774414063],
        
            [48.577022552490234, 135.02960205078125],
        
            [48.57471466064453, 135.02967834472656],
        
            [48.57734298706055, 135.02955627441406],
        
            [48.57475280761719, 135.0294647216797],
        
            [48.577659606933594, 135.0294647216797],
        
            [48.57472610473633, 135.02923583984375],
        
            [48.577919006347656, 135.02926635742188],
        
            [48.57461929321289, 135.0290069580078],
        
            [48.57802200317383, 135.02903747558594],
        
            [48.57435607910156, 135.02877807617188],
        
            [48.57803726196289, 135.02880859375],
        
            [48.57396697998047, 135.0286407470703],
        
            [48.57796859741211, 135.02857971191406],
        
            [48.57365036010742, 135.02845764160156],
        
            [48.577728271484375, 135.02835083007813],
        
            [48.57362747192383, 135.02818298339844],
        
            [48.57741165161133, 135.02825927734375],
        
            [48.57382583618164, 135.0279541015625],
        
            [48.577091217041016, 135.02825927734375],
        
            [48.57414245605469, 135.02784729003906],
        
            [48.57677459716797, 135.0283203125],
        
            [48.574459075927734, 135.02780151367188],
        
            [48.576454162597656, 135.02847290039063],
        
            [48.57477951049805, 135.0277557373047],
        
            [48.57613754272461, 135.02870178222656],
        
            [48.575096130371094, 135.02767944335938],
        
            [48.5758171081543, 135.02886962890625],
        
            [48.575416564941406, 135.02755737304688],
        
            [48.57550048828125, 135.02882385253906],
        
            [48.57563400268555, 135.0272674560547],
        
            [48.57518768310547, 135.02862548828125],
        
            [48.57567596435547, 135.02703857421875],
        
            [48.574974060058594, 135.0283966064453],
        
            [48.575660705566406, 135.0268096923828],
        
            [48.575035095214844, 135.02816772460938],
        
            [48.575592041015625, 135.02658081054688],
        
            [48.57543182373047, 135.0280303955078],
        
            [48.575355529785156, 135.0263671875],
        
            [48.575748443603516, 135.0279541015625],
        
            [48.57498550415039, 135.02635192871094],
        
            [48.57606887817383, 135.02783203125],
        
            [48.574668884277344, 135.02630615234375],
        
            [48.5761604309082, 135.02760314941406],
        
            [48.57434844970703, 135.02622985839844],
        
            [48.57612228393555, 135.02737426757813],
        
            [48.574031829833984, 135.02603149414063],
        
            [48.576072692871094, 135.0271453857422],
        
            [48.57394027709961, 135.0257568359375],
        
            [48.57608413696289, 135.0269317626953],
        
            [48.57396697998047, 135.02552795410156],
        
            [48.5761604309082, 135.02670288085938],
        
            [48.57405090332031, 135.02529907226563],
        
            [48.576087951660156, 135.02647399902344],
        
            [48.57407760620117, 135.02508544921875],
        
            [48.57600021362305, 135.0262451171875],
        
            [48.573951721191406, 135.0248565673828],
        
            [48.575923919677734, 135.02601623535156],
        
            [48.573692321777344, 135.02462768554688],
        
            [48.57585525512695, 135.02578735351563],
        
            [48.57343292236328, 135.02439880371094],
        
            [48.575767517089844, 135.0255584716797],
        
            [48.573246002197266, 135.024169921875],
        
            [48.57559585571289, 135.02532958984375],
        
            [48.57318115234375, 135.02394104003906],
        
            [48.575462341308594, 135.02511596679688],
        
            [48.57342529296875, 135.02377319335938],
        
            [48.575679779052734, 135.02488708496094],
        
            [48.57374572753906, 135.0238037109375],
        
            [48.5758171081543, 135.024658203125],
        
            [48.57406234741211, 135.02394104003906],
        
            [48.575897216796875, 135.02442932128906],
        
            [48.57438278198242, 135.02415466308594],
        
            [48.57596206665039, 135.02420043945313],
        
            [48.57469940185547, 135.02435302734375],
        
            [48.576019287109375, 135.0239715576172],
        
            [48.574981689453125, 135.02426147460938],
        
            [48.5760612487793, 135.02374267578125],
        
            [48.575050354003906, 135.02403259277344],
        
            [48.57611083984375, 135.0235137939453],
        
            [48.57513427734375, 135.0238037109375],
        
            [48.576148986816406, 135.02330017089844],
        
            [48.57522964477539, 135.02357482910156],
        
            [48.5761833190918, 135.0230712890625],
        
            [48.57530975341797, 135.0233612060547],
        
            [48.576202392578125, 135.02284240722656],
        
            [48.57536315917969, 135.02313232421875],
        
            [48.57619094848633, 135.02261352539063],
        
            [48.57530975341797, 135.0229034423828],
        
            [48.57613754272461, 135.0223846435547],
        
            [48.574920654296875, 135.02281188964844],
        
            [48.5760383605957, 135.02215576171875],
        
            [48.57460403442383, 135.0227508544922],
        
            [48.57460403442383, 135.022705078125],
        
            [48.57428741455078, 135.022705078125],
        
            [48.57428741455078, 135.0226593017578],
        
            [48.57396697998047, 135.0226593017578],
        
            [48.57396697998047, 135.0226287841797],
        
            [48.57365036010742, 135.02267456054688],
        
            [48.57365036010742, 135.0226287841797],
        
            [48.57332992553711, 135.02279663085938],
        
            [48.57332992553711, 135.0227508544922],
        
            [48.57301330566406, 135.02291870117188],
        
            [48.57301330566406, 135.0228729248047],
        
            [48.57269287109375, 135.02272033691406],
        
            [48.57269287109375, 135.02268981933594],
        
            [48.57255554199219, 135.02247619628906],
        
            [48.57249069213867, 135.02247619628906],
        
            [48.5723876953125, 135.02224731445313],
        
            [48.57231521606445, 135.02224731445313],
        
    ];
    var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 16,
        center: new google.maps.LatLng(48.580535888671875, 135.03480529785156),
        mapTypeId: google.maps.MapTypeId.ROADMAP
    });





    var infowindow = new google.maps.InfoWindow();

    var marker, i;

    for (i = 0; i < locations.length; i++) {
        marker = new google.maps.Marker({
            position: new google.maps.LatLng(locations[i][0], locations[i][1]),
            map: map
        });

        // google.maps.event.addListener(marker, 'click', (function(marker, i) {
        //   return function() {
        //     infowindow.setContent(locations[i][0]);
        //     infowindow.open(map, marker);
        //   }
        // })(marker, i));
    }


 var devicePositionMarker = null;

    function updateMarkerLocation(position) {
        var deviceCoords = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
        };
        var latLng = new google.maps.LatLng(deviceCoords.lat, deviceCoords.lng);
        if (!devicePositionMarker) {
            devicePositionMarker = new google.maps.Marker({
                icon: "https://maps.google.com/mapfiles/ms/icons/blue-dot.png",
                position: latLng,
                map: map
            })

        } else {
            marker.setPosition( latLng );
        }
        map.panTo( latLng );


        map.setCenter(latLng);
    }

    navigator.geolocation.getCurrentPosition(updateMarkerLocation, function () {
    });

    navigator.geolocation.watchPosition(updateMarkerLocation, function () {
    });


    var imageBounds = {
        north: 48.580535888671875,
        south: 48.571319580078125,
        east: 135.0221405029297,
        west: 135.03480529785156
    };

    historicalOverlay = new google.maps.GroundOverlay(
        './track_map.jpg',
        imageBounds);
    historicalOverlay.setOpacity(.2);
    historicalOverlay.setMap(map);


</script>
</body>
</html>