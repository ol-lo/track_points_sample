<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Google Maps Multiple Markers</title>
    <script src="https://maps.google.com/maps/api/js?key=AIzaSyDuEJOscSFwcZubl9BS86dxCJJVUE39uwE"
            type="text/javascript"></script>
</head>
<body style="margin: 0;">
<div id="map" style="width: 100vw; height: 100vh;"></div>

<script type="text/javascript">
    var locations = [
        
            [48.57149124145508, 135.0332794189453],
        
            [48.57149124145508, 135.03321838378906],
        
            [48.571659088134766, 135.03305053710938],
        
            [48.571659088134766, 135.03298950195313],
        
            [48.57182312011719, 135.0327606201172],
        
            [48.57182312011719, 135.0326690673828],
        
            [48.571834564208984, 135.03224182128906],
        
            [48.571807861328125, 135.03224182128906],
        
            [48.57173156738281, 135.03179931640625],
        
            [48.57170867919922, 135.03179931640625],
        
            [48.57169723510742, 135.03135681152344],
        
            [48.57167053222656, 135.03135681152344],
        
            [48.57170867919922, 135.0309295654297],
        
            [48.571685791015625, 135.0309295654297],
        
            [48.571739196777344, 135.03048706054688],
        
            [48.57171630859375, 135.03048706054688],
        
            [48.571781158447266, 135.03004455566406],
        
            [48.57175827026367, 135.03004455566406],
        
            [48.57182693481445, 135.0296173095703],
        
            [48.571800231933594, 135.0296173095703],
        
            [48.571956634521484, 135.02932739257813],
        
            [48.571956634521484, 135.02926635742188],
        
            [48.572120666503906, 135.02935791015625],
        
            [48.572120666503906, 135.02928161621094],
        
            [48.57228469848633, 135.02944946289063],
        
            [48.57228469848633, 135.02938842773438],
        
            [48.57244873046875, 135.02957153320313],
        
            [48.57244873046875, 135.02951049804688],
        
            [48.57261657714844, 135.0297088623047],
        
            [48.57261657714844, 135.02964782714844],
        
            [48.57278060913086, 135.02980041503906],
        
            [48.57278060913086, 135.0297393798828],
        
            [48.57294464111328, 135.02993774414063],
        
            [48.57294464111328, 135.0298614501953],
        
            [48.5728645324707, 135.03036499023438],
        
            [48.572837829589844, 135.03036499023438],
        
            [48.57270050048828, 135.0308074951172],
        
            [48.57267761230469, 135.03079223632813],
        
            [48.572566986083984, 135.03125],
        
            [48.572540283203125, 135.03125],
        
            [48.572505950927734, 135.03167724609375],
        
            [48.572479248046875, 135.03167724609375],
        
            [48.572540283203125, 135.03211975097656],
        
            [48.57251739501953, 135.03211975097656],
        
            [48.57270050048828, 135.03231811523438],
        
            [48.57270050048828, 135.03225708007813],
        
            [48.5728645324707, 135.0321502685547],
        
            [48.5728645324707, 135.03208923339844],
        
            [48.57303237915039, 135.0318603515625],
        
            [48.57302474975586, 135.03179931640625],
        
            [48.57319641113281, 135.031494140625],
        
            [48.57319259643555, 135.0314178466797],
        
            [48.573360443115234, 135.0311737060547],
        
            [48.573360443115234, 135.03111267089844],
        
            [48.57352828979492, 135.0310821533203],
        
            [48.57352828979492, 135.03102111816406],
        
            [48.573692321777344, 135.0311737060547],
        
            [48.573692321777344, 135.03111267089844],
        
            [48.573856353759766, 135.03128051757813],
        
            [48.573856353759766, 135.03121948242188],
        
            [48.57402038574219, 135.03123474121094],
        
            [48.57402038574219, 135.03118896484375],
        
            [48.574188232421875, 135.03099060058594],
        
            [48.57418441772461, 135.03091430664063],
        
            [48.57432174682617, 135.03048706054688],
        
            [48.57429885864258, 135.03048706054688],
        
            [48.57435989379883, 135.03004455566406],
        
            [48.574337005615234, 135.03004455566406],
        
            [48.57438659667969, 135.02960205078125],
        
            [48.574363708496094, 135.02960205078125],
        
            [48.57444763183594, 135.0291748046875],
        
            [48.57441711425781, 135.0291748046875],
        
            [48.57461166381836, 135.0289764404297],
        
            [48.57461166381836, 135.02890014648438],
        
            [48.57477569580078, 135.02890014648438],
        
            [48.57477569580078, 135.0288543701172],
        
            [48.5749397277832, 135.02890014648438],
        
            [48.5749397277832, 135.02883911132813],
        
            [48.57510757446289, 135.0290069580078],
        
            [48.57510757446289, 135.02894592285156],
        
            [48.57527160644531, 135.029296875],
        
            [48.57527160644531, 135.02923583984375],
        
            [48.57536315917969, 135.0297393798828],
        
            [48.57534408569336, 135.0297393798828],
        
            [48.575408935546875, 135.03018188476563],
        
            [48.57538604736328, 135.03018188476563],
        
            [48.575443267822266, 135.03060913085938],
        
            [48.57541275024414, 135.03060913085938],
        
            [48.57548522949219, 135.0310516357422],
        
            [48.575462341308594, 135.0310516357422],
        
            [48.575584411621094, 135.031494140625],
        
            [48.5755615234375, 135.031494140625],
        
            [48.575748443603516, 135.03172302246094],
        
            [48.575748443603516, 135.0316619873047],
        
            [48.5759162902832, 135.03160095214844],
        
            [48.5759162902832, 135.0315399169922],
        
            [48.57606506347656, 135.03111267089844],
        
            [48.57603454589844, 135.03111267089844],
        
            [48.576168060302734, 135.03067016601563],
        
            [48.57614517211914, 135.03067016601563],
        
            [48.576332092285156, 135.03033447265625],
        
            [48.576332092285156, 135.03025817871094],
        
            [48.576499938964844, 135.0301971435547],
        
            [48.576499938964844, 135.03013610839844],
        
            [48.579490661621094, 135.0330810546875],
        
            [48.57981872558594, 135.03297424316406],
        
            [48.57932662963867, 135.03298950195313],
        
            [48.579986572265625, 135.03277587890625],
        
            [48.579158782958984, 135.03280639648438],
        
            [48.58012771606445, 135.03237915039063],
        
            [48.57899475097656, 135.03253173828125],
        
            [48.58016586303711, 135.03195190429688],
        
            [48.57883071899414, 135.03207397460938],
        
            [48.58012390136719, 135.03150939941406],
        
            [48.57878112792969, 135.0316162109375],
        
            [48.58001708984375, 135.03106689453125],
        
            [48.57985305786133, 135.03085327148438],
        
            [48.57985305786133, 135.03077697753906],
        
            [48.579689025878906, 135.03089904785156],
        
            [48.579689025878906, 135.0308380126953],
        
            [48.579524993896484, 135.031005859375],
        
            [48.579524993896484, 135.0309295654297],
        
            [48.5793571472168, 135.03089904785156],
        
            [48.5793571472168, 135.0308380126953],
        
            [48.579376220703125, 135.0303955078125],
        
            [48.5793571472168, 135.0303955078125],
        
            [48.5794677734375, 135.0299530029297],
        
            [48.579444885253906, 135.0299530029297],
        
            [48.57951354980469, 135.02952575683594],
        
            [48.57948684692383, 135.02952575683594],
        
            [48.579444885253906, 135.02908325195313],
        
            [48.57942199707031, 135.02908325195313],
        
            [48.57763671875, 135.03173828125],
        
            [48.57763671875, 135.0316925048828],
        
            [48.57746887207031, 135.03164672851563],
        
            [48.57746887207031, 135.0315704345703],
        
            [48.57791519165039, 135.03111267089844],
        
            [48.5778923034668, 135.03111267089844],
        
            [48.577884674072266, 135.03067016601563],
        
            [48.57786178588867, 135.03067016601563],
        
            [48.577884674072266, 135.0302276611328],
        
            [48.57786560058594, 135.0302276611328],
        
            [48.578033447265625, 135.02996826171875],
        
            [48.578033447265625, 135.02989196777344],
        
            [48.57819747924805, 135.0298614501953],
        
            [48.57819747924805, 135.02980041503906],
        
            [48.57836151123047, 135.0298614501953],
        
            [48.57836151123047, 135.02980041503906],
        
            [48.57852554321289, 135.0299530029297],
        
            [48.57852554321289, 135.02989196777344],
        
            [48.57869338989258, 135.0302276611328],
        
            [48.57869338989258, 135.0301513671875],
        
            [48.57877731323242, 135.03067016601563],
        
            [48.57875442504883, 135.03067016601563],
        
            [48.578773498535156, 135.03109741210938],
        
            [48.57875061035156, 135.03109741210938],
        
            [48.57719802856445, 135.0308837890625],
        
            [48.57716751098633, 135.0308837890625],
        
            [48.57704544067383, 135.0304412841797],
        
            [48.577022552490234, 135.0304412841797],
        
            [48.57685852050781, 135.03025817871094],
        
            [48.57685852050781, 135.0301971435547],
        
            [48.57669448852539, 135.03018188476563],
        
            [48.57669448852539, 135.0301055908203],
        
            [48.575660705566406, 135.029541015625],
        
            [48.575992584228516, 135.02957153320313],
        
            [48.575618743896484, 135.029052734375],
        
            [48.57614517211914, 135.0292205810547],
        
            [48.57556915283203, 135.02862548828125],
        
            [48.57622528076172, 135.02877807617188],
        
            [48.5754508972168, 135.02818298339844],
        
            [48.57615661621094, 135.02833557128906],
        
            [48.57526779174805, 135.0281524658203],
        
            [48.575992584228516, 135.02789306640625],
        
            [48.57509994506836, 135.02821350097656],
        
            [48.57585144042969, 135.0274658203125],
        
            [48.57493591308594, 135.0282745361328],
        
            [48.57578659057617, 135.0270233154297],
        
            [48.574771881103516, 135.02822875976563],
        
            [48.575767517089844, 135.02658081054688],
        
            [48.57460403442383, 135.02816772460938],
        
            [48.57579803466797, 135.02615356445313],
        
            [48.574440002441406, 135.0282745361328],
        
            [48.5759391784668, 135.0257110595703],
        
            [48.574275970458984, 135.0283966064453],
        
            [48.576107025146484, 135.02552795410156],
        
            [48.57411193847656, 135.02850341796875],
        
            [48.57627487182617, 135.0255126953125],
        
            [48.573944091796875, 135.02857971191406],
        
            [48.576438903808594, 135.0255889892578],
        
            [48.57378005981445, 135.02871704101563],
        
            [48.576602935791016, 135.02584838867188],
        
            [48.57361602783203, 135.0289764404297],
        
            [48.576698303222656, 135.02635192871094],
        
            [48.573448181152344, 135.02906799316406],
        
            [48.576744079589844, 135.0267791748047],
        
            [48.57328414916992, 135.0287628173828],
        
            [48.57676696777344, 135.0272216796875],
        
            [48.5731201171875, 135.02859497070313],
        
            [48.57682800292969, 135.0276641845703],
        
            [48.57295608520508, 135.0284881591797],
        
            [48.57699203491211, 135.0280303955078],
        
            [48.57278823852539, 135.0283966064453],
        
            [48.57715606689453, 135.02822875976563],
        
            [48.57262420654297, 135.02833557128906],
        
            [48.57732009887695, 135.02835083007813],
        
            [48.57246017456055, 135.0282745361328],
        
            [48.57748794555664, 135.02842712402344],
        
            [48.57765197753906, 135.028564453125],
        
            [48.57765197753906, 135.02850341796875],
        
            [48.577816009521484, 135.0286407470703],
        
            [48.577816009521484, 135.028564453125],
        
            [48.57798385620117, 135.02870178222656],
        
            [48.57798385620117, 135.02867126464844],
        
            [48.57876968383789, 135.02880859375],
        
            [48.57876968383789, 135.02874755859375],
        
            [48.57893371582031, 135.02867126464844],
        
            [48.57893371582031, 135.0286102294922],
        
            [48.579097747802734, 135.02862548828125],
        
            [48.579097747802734, 135.028564453125],
        
            [48.57926559448242, 135.02874755859375],
        
            [48.57926559448242, 135.02870178222656],
        
            [48.57822036743164, 135.02882385253906],
        
            [48.57822036743164, 135.02874755859375],
        
            [48.57155990600586, 135.0281524658203],
        
            [48.57155990600586, 135.02809143066406],
        
            [48.57172775268555, 135.02810668945313],
        
            [48.57172775268555, 135.0280303955078],
        
            [48.57189178466797, 135.02809143066406],
        
            [48.57189178466797, 135.0280303955078],
        
            [48.57205581665039, 135.0281219482422],
        
            [48.57205581665039, 135.02806091308594],
        
            [48.57222366333008, 135.02818298339844],
        
            [48.57222366333008, 135.02813720703125],
        
    ];
    var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 16,
        center: new google.maps.LatLng(48.580535888671875, 135.03480529785156),
        mapTypeId: google.maps.MapTypeId.ROADMAP
    });





    var infowindow = new google.maps.InfoWindow();

    var marker, i;

    for (i = 0; i < locations.length; i++) {
        marker = new google.maps.Marker({
            position: new google.maps.LatLng(locations[i][0], locations[i][1]),
            map: map
        });

        // google.maps.event.addListener(marker, 'click', (function(marker, i) {
        //   return function() {
        //     infowindow.setContent(locations[i][0]);
        //     infowindow.open(map, marker);
        //   }
        // })(marker, i));
    }


 var devicePositionMarker = null;

    function updateMarkerLocation(position) {
        var deviceCoords = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
        };
        var latLng = new google.maps.LatLng(deviceCoords.lat, deviceCoords.lng);
        if (!devicePositionMarker) {
            devicePositionMarker = new google.maps.Marker({
                icon: "https://maps.google.com/mapfiles/ms/icons/blue-dot.png",
                position: latLng,
                map: map
            })

        } else {
            marker.setPosition( latLng );
        }
        map.panTo( latLng );


        map.setCenter(latLng);
    }

    navigator.geolocation.getCurrentPosition(updateMarkerLocation, function () {
    });

    navigator.geolocation.watchPosition(updateMarkerLocation, function () {
    });


    var imageBounds = {
        north: 48.580535888671875,
        south: 48.571319580078125,
        east: 135.0221405029297,
        west: 135.03480529785156
    };

    // historicalOverlay = new google.maps.GroundOverlay(
    //     './track_map.jpg',
    //     imageBounds);
    // historicalOverlay.setOpacity(.2);
    // historicalOverlay.setMap(map);


</script>
</body>
</html>