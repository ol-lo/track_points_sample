<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Google Maps Multiple Markers</title>
    <script src="https://maps.google.com/maps/api/js?key=AIzaSyDuEJOscSFwcZubl9BS86dxCJJVUE39uwE"
            type="text/javascript"></script>
</head>
<body style="margin: 0;">
<div id="map" style="width: 100vw; height: 100vh;"></div>

<script type="text/javascript">
    var locations = [
        
            [48.57310104370117, 135.03428649902344],
        
            [48.57373809814453, 135.03424072265625],
        
            [48.572784423828125, 135.03408813476563],
        
            [48.57404327392578, 135.03408813476563],
        
            [48.572662353515625, 135.03382873535156],
        
            [48.5742073059082, 135.0338592529297],
        
            [48.572608947753906, 135.03359985351563],
        
            [48.57415771484375, 135.03363037109375],
        
            [48.5726203918457, 135.03338623046875],
        
            [48.57408905029297, 135.0334014892578],
        
            [48.57269287109375, 135.0331573486328],
        
            [48.57417297363281, 135.03317260742188],
        
            [48.57282638549805, 135.03292846679688],
        
            [48.57455062866211, 135.03318786621094],
        
            [48.57301712036133, 135.03269958496094],
        
            [48.57487106323242, 135.03330993652344],
        
            [48.57331466674805, 135.03250122070313],
        
            [48.57518768310547, 135.0333709716797],
        
            [48.573631286621094, 135.0323944091797],
        
            [48.575504302978516, 135.03326416015625],
        
            [48.573951721191406, 135.03237915039063],
        
            [48.57573318481445, 135.0330352783203],
        
            [48.57426834106445, 135.0323944091797],
        
            [48.57582473754883, 135.03280639648438],
        
            [48.574588775634766, 135.0323486328125],
        
            [48.575775146484375, 135.03257751464844],
        
            [48.57487106323242, 135.03208923339844],
        
            [48.57567596435547, 135.0323486328125],
        
            [48.57496643066406, 135.0318603515625],
        
            [48.57560729980469, 135.03213500976563],
        
            [48.574974060058594, 135.03164672851563],
        
            [48.57561111450195, 135.0319061279297],
        
            [48.57490539550781, 135.0314178466797],
        
            [48.57566452026367, 135.03167724609375],
        
            [48.57477951049805, 135.03118896484375],
        
            [48.575721740722656, 135.0314483642578],
        
            [48.574398040771484, 135.03115844726563],
        
            [48.575782775878906, 135.03121948242188],
        
            [48.57407760620117, 135.0312042236328],
        
            [48.575828552246094, 135.03099060058594],
        
            [48.573760986328125, 135.03123474121094],
        
            [48.57587814331055, 135.03076171875],
        
            [48.57356262207031, 135.0310516357422],
        
            [48.57593536376953, 135.03053283691406],
        
            [48.57358932495117, 135.03082275390625],
        
            [48.57600402832031, 135.0303192138672],
        
            [48.57367706298828, 135.0305938720703],
        
            [48.576107025146484, 135.03009033203125],
        
            [48.57389450073242, 135.03036499023438],
        
            [48.576263427734375, 135.0298614501953],
        
            [48.57421112060547, 135.0301971435547],
        
            [48.576637268066406, 135.0296630859375],
        
            [48.574527740478516, 135.0299835205078],
        
            [48.57695388793945, 135.0296173095703],
        
            [48.57469940185547, 135.02972412109375],
        
            [48.577274322509766, 135.02957153320313],
        
            [48.57474899291992, 135.0294952392578],
        
            [48.57759094238281, 135.02951049804688],
        
            [48.57472610473633, 135.02926635742188],
        
            [48.577877044677734, 135.02932739257813],
        
            [48.574642181396484, 135.02903747558594],
        
            [48.578006744384766, 135.0290985107422],
        
            [48.57441329956055, 135.02880859375],
        
            [48.578041076660156, 135.02886962890625],
        
            [48.574031829833984, 135.02867126464844],
        
            [48.577999114990234, 135.0286407470703],
        
            [48.57371139526367, 135.02850341796875],
        
            [48.57781982421875, 135.02841186523438],
        
            [48.573612213134766, 135.0282440185547],
        
            [48.57750701904297, 135.02825927734375],
        
            [48.57373809814453, 135.02801513671875],
        
            [48.577186584472656, 135.02825927734375],
        
            [48.57405090332031, 135.02786254882813],
        
            [48.57686996459961, 135.02830505371094],
        
            [48.574371337890625, 135.02780151367188],
        
            [48.5765495300293, 135.02841186523438],
        
            [48.57468795776367, 135.02777099609375],
        
            [48.57623291015625, 135.0286407470703],
        
            [48.575008392333984, 135.0277099609375],
        
            [48.5759162902832, 135.0288543701172],
        
            [48.57532501220703, 135.02760314941406],
        
            [48.57559585571289, 135.0288543701172],
        
            [48.57559585571289, 135.02734375],
        
            [48.575279235839844, 135.02870178222656],
        
            [48.57566452026367, 135.02711486816406],
        
            [48.57501220703125, 135.02847290039063],
        
            [48.57566452026367, 135.02688598632813],
        
            [48.574981689453125, 135.02825927734375],
        
            [48.575618743896484, 135.0266571044922],
        
            [48.57530975341797, 135.02806091308594],
        
            [48.57548522949219, 135.0264434814453],
        
            [48.575626373291016, 135.02798461914063],
        
            [48.575096130371094, 135.02635192871094],
        
            [48.5759391784668, 135.0279083251953],
        
            [48.57477951049805, 135.0263214111328],
        
            [48.57615280151367, 135.0277099609375],
        
            [48.574459075927734, 135.02626037597656],
        
            [48.576141357421875, 135.02748107910156],
        
            [48.57414245605469, 135.026123046875],
        
            [48.57609939575195, 135.02725219726563],
        
            [48.57395553588867, 135.02584838867188],
        
            [48.57606887817383, 135.0270233154297],
        
            [48.573936462402344, 135.02561950683594],
        
            [48.57615280151367, 135.02679443359375],
        
            [48.57401657104492, 135.025390625],
        
            [48.57612609863281, 135.0265655517578],
        
            [48.5740852355957, 135.02516174316406],
        
            [48.57604217529297, 135.02633666992188],
        
            [48.57401657104492, 135.02493286132813],
        
            [48.57596206665039, 135.02610778808594],
        
            [48.573787689208984, 135.02471923828125],
        
            [48.575897216796875, 135.02589416503906],
        
            [48.573516845703125, 135.0244903564453],
        
            [48.5758171081543, 135.02566528320313],
        
            [48.573299407958984, 135.02426147460938],
        
            [48.575687408447266, 135.0254364013672],
        
            [48.57316970825195, 135.02403259277344],
        
            [48.57548904418945, 135.02520751953125],
        
            [48.57329177856445, 135.02381896972656],
        
            [48.57559585571289, 135.0249786376953],
        
            [48.573612213134766, 135.02377319335938],
        
            [48.57577133178711, 135.02474975585938],
        
            [48.57392883300781, 135.02386474609375],
        
            [48.575870513916016, 135.02452087402344],
        
            [48.574249267578125, 135.0240478515625],
        
            [48.5759391784668, 135.02430725097656],
        
            [48.57456588745117, 135.02427673339844],
        
            [48.57600021362305, 135.02407836914063],
        
            [48.574886322021484, 135.02439880371094],
        
            [48.576045989990234, 135.0238494873047],
        
            [48.575016021728516, 135.02413940429688],
        
            [48.57609558105469, 135.02362060546875],
        
            [48.575096130371094, 135.02391052246094],
        
            [48.576148986816406, 135.0233917236328],
        
            [48.5751838684082, 135.023681640625],
        
            [48.576175689697266, 135.02316284179688],
        
            [48.57527160644531, 135.02345275878906],
        
            [48.576202392578125, 135.02293395996094],
        
            [48.575347900390625, 135.02322387695313],
        
            [48.57620620727539, 135.022705078125],
        
            [48.57535171508789, 135.0229949951172],
        
            [48.576168060302734, 135.02249145507813],
        
            [48.575069427490234, 135.0228271484375],
        
            [48.576087951660156, 135.0222625732422],
        
            [48.57475280761719, 135.02276611328125],
        
            [48.57475280761719, 135.02273559570313],
        
            [48.574432373046875, 135.02272033691406],
        
            [48.574432373046875, 135.02268981933594],
        
            [48.57411575317383, 135.02267456054688],
        
            [48.57411575317383, 135.0226287841797],
        
            [48.57379913330078, 135.0226593017578],
        
            [48.57379913330078, 135.0226287841797],
        
            [48.57347869873047, 135.02272033691406],
        
            [48.57347869873047, 135.02268981933594],
        
            [48.57316207885742, 135.0228729248047],
        
            [48.57316207885742, 135.0228271484375],
        
            [48.57284164428711, 135.02285766601563],
        
            [48.57284164428711, 135.02281188964844],
        
            [48.572635650634766, 135.0225830078125],
        
            [48.57258605957031, 135.0225830078125],
        
            [48.57246398925781, 135.02235412597656],
        
            [48.57241439819336, 135.02235412597656],
        
    ];
    var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 16,
        center: new google.maps.LatLng(48.580535888671875, 135.03480529785156),
        mapTypeId: google.maps.MapTypeId.ROADMAP
    });





    var infowindow = new google.maps.InfoWindow();

    var marker, i;

    for (i = 0; i < locations.length; i++) {
        marker = new google.maps.Marker({
            position: new google.maps.LatLng(locations[i][0], locations[i][1]),
            map: map
        });

        // google.maps.event.addListener(marker, 'click', (function(marker, i) {
        //   return function() {
        //     infowindow.setContent(locations[i][0]);
        //     infowindow.open(map, marker);
        //   }
        // })(marker, i));
    }


 var devicePositionMarker = null;

    function updateMarkerLocation(position) {
        var deviceCoords = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
        };
        var latLng = new google.maps.LatLng(deviceCoords.lat, deviceCoords.lng);
        if (!devicePositionMarker) {
            devicePositionMarker = new google.maps.Marker({
                icon: "https://maps.google.com/mapfiles/ms/icons/blue-dot.png",
                position: latLng,
                map: map
            })

        } else {
            marker.setPosition( latLng );
        }
        map.panTo( latLng );


        map.setCenter(latLng);
    }

    navigator.geolocation.getCurrentPosition(updateMarkerLocation, function () {
    });

    navigator.geolocation.watchPosition(updateMarkerLocation, function () {
    });


    var imageBounds = {
        north: 48.580535888671875,
        south: 48.571319580078125,
        east: 135.0221405029297,
        west: 135.03480529785156
    };

    historicalOverlay = new google.maps.GroundOverlay(
        './track_map.jpg',
        imageBounds);
    historicalOverlay.setOpacity(.2);
    historicalOverlay.setMap(map);


</script>
</body>
</html>